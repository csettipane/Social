(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[0],{10:function(e,t,s){e.exports={header:"Profile_header__1714E",photo:"Profile_photo__Wnbjm",id:"Profile_id__2_pIX",user:"Profile_user__2VT9G",name:"Profile_name__2whgl",activity:"Profile_activity__iZABj",posts:"Profile_posts__u1_2F",followBtn:"Profile_followBtn__3y941",unfollowBtn:"Profile_unfollowBtn__1qmb7"}},12:function(e,t,s){e.exports={photo:"NewPost_photo__2oIUI",dropArea:"NewPost_dropArea__2L5wS",dragging:"NewPost_dragging__2FG7i",message:"NewPost_message__3pSJ4",image:"NewPost_image__3OeO2",desc:"NewPost_desc__3MQNB",actions:"NewPost_actions__mzfm8",error:"NewPost_error__2Y1jN"}},15:function(e,t,s){e.exports={navbar:"Navbar_navbar__2wlKY",navItem:"Navbar_navItem__2NzOj"}},17:function(e,t,s){e.exports={square:"PostThumbnail_square__12VQt",content:"PostThumbnail_content__OFWk7",image:"PostThumbnail_image__2kuQY"}},20:function(e,t,s){e.exports={container:"App_container__3CZYa",content:"App_content__2-hcV"}},25:function(e,t,s){e.exports={header:"Header_header__28L8Y"}},35:function(e,t,s){},36:function(e,t,s){},43:function(e,t,s){"use strict";s.r(t);var n=s(1),o=s.n(n),a=s(24),c=s.n(a),r=(s(35),s(7)),i=s(11),d={currentUserId:"judy",users:[{id:"judy",email:"judy@bc.edu",photo:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fuser1.png?v=1614382902520",name:"Judy Hopps",bio:"The first rabbit officer of the Zootopia Police Department. Judy is determined to make the world a better place while breaking preconceptions about other species."},{id:"nick",email:"nick@bc.edu",photo:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fuser2.png?v=1614382911565",name:"Nick Wilde",bio:"Nick is a charming, small-time, con artist fox with a big mouth and a lot of opinions. But when a rabbit cop outsmarts him, he finds himself actually helping her solve a mystery."},{id:"flash",email:"flash@bc.edu",photo:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fuser3.png?v=1614382906269",name:"Flash Slothmore",bio:"Flash is a male three-toed sloth and a supporting character in Zootopia. He works at the Department of Mammal Vehicles."}],followers:[{userId:"nick",followerId:"judy"},{userId:"judy",followerId:"nick"},{userId:"judy",followerId:"flash"}],posts:[{id:"post-1",userId:"judy",photo:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fpost1.png?v=1614382902557",desc:"#zootopia #excited",datetime:"2020-02-09T22:45:28Z"},{id:"post-2",userId:"nick",photo:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fpost2.png?v=1614382909568",desc:"#happy #selfie with Judy",datetime:"2020-02-06T22:45:28Z"},{id:"post-3",userId:"flash",photo:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fpost3.png?v=1614382906649",desc:"Don't worry I got this",datetime:"2020-02-03T22:45:28Z"},{id:"post-4",userId:"judy",photo:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fpost4.png?v=1614382908121",desc:"Just trying to make a #friend",datetime:"2020-02-06T22:45:28Z"},{id:"post-5",userId:"judy",photo:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fpost5.png?v=1614382904722",desc:"I am now the first rabbit officer!",datetime:"2020-02-06T22:45:28Z"},{id:"post-6",userId:"judy",photo:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fpost6.png?v=1614382910363",desc:"Having #goodtimes with folks here",datetime:"2020-02-06T22:45:28Z"}],comments:[{userId:"nick",postId:"post-1",text:"Welcome to Zootopia!",datetime:"2020-02-09T22:51:40Z"},{userId:"judy",postId:"post-1",text:"Thanks!\ud83d\ude01Looking forward to meeting you!",datetime:"2020-02-09T22:52:01Z"},{userId:"flash",postId:"post-2",text:"Looking good you two! \ud83d\udc30\ud83e\udd8a",datetime:"2020-02-09T22:54:20Z"}],likes:[{userId:"judy",postId:"post-1",datetime:"2020-02-09T22:50:40Z"},{userId:"nick",postId:"post-2",datetime:"2020-02-09T22:51:40Z"},{userId:"flash",postId:"post-2",datetime:"2020-02-09T22:54:20Z"},{userId:"judy",postId:"post-3",datetime:"2020-02-09T22:53:40Z"}]},l=(s(36),s(20)),j=s.n(l),u=s(25),h=s.n(u),b=s(0);var p=function(){return Object(b.jsxs)("header",{className:h.a.header,children:[Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:Object(b.jsx)("img",{src:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fcamera.svg?v=1614382899995",alt:"camera"})})}),Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Flogo.png?v=1614382900226",alt:"logo"})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{children:Object(b.jsx)("img",{src:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fmessage.svg?v=1614382900322",alt:"message"})})})]})},f=s(9),m=s.n(f),O=function(e){var t=Math.floor((new Date-new Date(e))/1e3),s=Math.floor(t/31556926);return s>=1?s+" years":(s=Math.floor(t/2592e3))>=1?s+" months":(s=Math.floor(t/86400))>=1?s+" days":(s=Math.floor(t/3600))>=1?s+" hours":(s=Math.floor(t/60))>=1?s+" minutes":Math.floor(t)+" seconds"};function v(e){return e.startsWith("/")?"/Social"+e:e}var g=s(4);var x=function(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),o=s[0],a=s[1],c=Object(n.useState)(!1),r=Object(i.a)(c,2),d=r[0],l=r[1];return Object(b.jsxs)("article",{className:m.a.post,children:[Object(b.jsx)("header",{className:m.a.header,children:Object(b.jsxs)("button",{className:m.a.user,to:"/profile/".concat(e.user.id),children:[Object(b.jsx)("img",{src:v(e.user.photo),alt:"User Profile"}),Object(b.jsxs)("span",{children:[Object(b.jsx)(g.b,{to:"/profile/".concat(e.user.id),children:e.user.id},"/profile/".concat(e.user.id))," "]})]})}),Object(b.jsx)("section",{className:m.a.content,children:Object(b.jsx)("div",{className:m.a.imgContainer,children:Object(b.jsx)("img",{src:v(e.post.photo),alt:"Post"})})}),Object(b.jsxs)("section",{className:m.a.actions,children:[Object(b.jsx)("button",{children:e.likes.self?Object(b.jsx)("img",{src:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Funlike.svg?v=1614382900439",alt:"Unlike Action",onClick:function(){e.onUnlike(e.post.id)}}):Object(b.jsx)("img",{src:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Flike.svg?v=1614382900207",alt:"Like Action",onClick:function(){e.onLike(e.post.id)}})}),Object(b.jsx)("button",{onClick:function(e){return l(!d)},children:Object(b.jsx)("img",{src:"https://cdn.glitch.com/f70d577d-f905-45ee-bb92-042bfa767970%2Fcomment.svg?v=1614382900046",alt:"Comment Action"})})]}),Object(b.jsxs)("section",{className:m.a.activity,children:[Object(b.jsxs)("div",{className:m.a.likes,children:[e.likes.count," likes"]}),Object(b.jsxs)("div",{className:m.a.comments,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:Object(b.jsx)(g.b,{to:"/profile/".concat(e.post.userId),children:e.post.userId},"/profile/".concat(e.post.userId))}),Object(b.jsx)("span",{children:e.post.desc})]}),e.comments.map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:Object(b.jsx)(g.b,{to:"/profile/".concat(e.userId),children:e.userId},"/profile/".concat(e.userId))}),Object(b.jsx)("span",{children:e.text})]},t)}))]}),Object(b.jsxs)("time",{className:m.a.time,children:[O(e.post.datetime).toUpperCase()," AGO"]}),d&&Object(b.jsxs)("form",{className:m.a.addComment,onSubmit:function(t){e.onComment(e.post.id,o),a(""),l(!1),t.preventDefault()},children:[Object(b.jsx)("input",{type:"text",placeholder:"Add a comment\u2026",value:o,onChange:function(e){return a(e.target.value)}}),Object(b.jsx)("button",{type:"submit",children:"Post"})]})]})]})},_=s(2);var I=function(e){var t=e.store,s=Object(_.g)().postId;function n(e){return t.users.find((function(t){return t.id===e.userId}))}function o(e){return t.comments.filter((function(t){return t.postId===e.id}))}function a(e){var s=t.likes.filter((function(t){return t.postId===e.id}));return{self:s.some((function(e){return e.userId===t.currentUserId})),count:s.length}}return Object(b.jsx)("div",{children:t.posts.sort((function(e,t){return new Date(t.datetime)-new Date(e.datetime)})).filter((function(e){return void 0===s||e.id===s})).map((function(t){return Object(b.jsx)(x,{user:n(t),post:t,comments:o(t),likes:a(t),onLike:e.onLike,onUnlike:e.onUnlike,onComment:e.onComment},t.id)}))})};var w=function(){return Object(b.jsx)("h2",{children:"Explore"})},k=s(12),N=s.n(k),D=s(27),y=s(28),P=s(14),T=s(30),C=s(29),F=function(e){Object(T.a)(s,e);var t=Object(C.a)(s);function s(e){var n;return Object(D.a)(this,s),(n=t.call(this,e)).handleDragEnter=n.handleDragEnter.bind(Object(P.a)(n)),n.handleDrop=n.handleDrop.bind(Object(P.a)(n)),n.handleDragOver=n.handleDragOver.bind(Object(P.a)(n)),n.handleDragLeave=n.handleDragLeave.bind(Object(P.a)(n)),n}return Object(y.a)(s,[{key:"handleDrop",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDrop&&this.props.onDrop(e)}},{key:"handleDragEnter",value:function(e){e.preventDefault(),e.stopPropagation(),this.dragTargetSaved=e.target,this.props.onDragEnter&&this.props.onDragEnter(e)}},{key:"handleDragOver",value:function(e){!1!==e.dataTransfer.types.includes("Files")&&(e.preventDefault(),e.stopPropagation(),this.props.onDragOver&&this.props.onDragOver(e))}},{key:"handleDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDragLeave&&this.dragTargetSaved===e.target&&this.props.onDragLeave(e)}},{key:"render",value:function(){var e=o.a.Children.only(this.props.children);return o.a.cloneElement(e,{onDragEnter:this.handleDragEnter,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop})}}]),s}(n.PureComponent);var S=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),o=s[0],a=s[1],c=Object(n.useState)(""),r=Object(i.a)(c,2),d=r[0],l=r[1],j=Object(n.useState)(null),u=Object(i.a)(j,2),h=u[0],p=u[1],f=Object(n.useState)(""),m=Object(i.a)(f,2),O=m[0],v=m[1],g=Object(_.f)();return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:N.a.photo,children:[h?Object(b.jsx)("img",{src:h,alt:"New Post"}):Object(b.jsx)("div",{className:N.a.message,children:"Drop your image"}),Object(b.jsx)(F,{onDragEnter:function(e){a(!0)},onDragLeave:function(e){a(!1)},onDrop:function(e){if(!1!==e.dataTransfer.types.includes("Files")){if(e.dataTransfer.files.length>=1){var t=e.dataTransfer.files[0];if(t.size>1e6)return;if(t.type.match(/image.*/)){var s=new FileReader;s.onloadend=function(e){p(e.target.result)},s.readAsDataURL(t)}}a(!1)}},children:Object(b.jsx)("div",{className:[N.a.dropArea,o?N.a.dragging:null].join(" ")})})]}),Object(b.jsx)("div",{className:N.a.desc,children:Object(b.jsx)("textarea",{placeholder:"Describe...",rows:"2",value:d,onChange:function(e){l(e.target.desc)}})}),Object(b.jsx)("div",{className:N.a.error,children:O}),Object(b.jsxs)("div",{className:N.a.actions,children:[Object(b.jsx)("button",{onClick:function(){e.onPostCancel(),g.goBack()},children:"Cancel"}),Object(b.jsx)("button",{onClick:function(t){t.preventDefault(),null!==h?(e.onPost(h,d),v(""),g.push("/")):v("You need to add a photo!")},children:"Share"})]})]})};var U=function(){return Object(b.jsx)("h2",{children:"Activity"})},L=s(10),Z=s.n(L),A=s(17),E=s.n(A);var B=function(e){return Object(b.jsx)("div",{className:E.a.square,children:Object(b.jsx)("div",{className:E.a.content,children:Object(b.jsx)("img",{className:E.a.image,src:v(e.post.photo),alt:"Post Thumbnail"})})})};var M=function(e){var t,s=e.store,n=Object(_.g)(),o=void 0===n.userId?s.currentUserId:n.userId,a=s.users.find((function(e){return e.id===o})),c=s.posts.filter((function(e){return e.userId===o})),r=s.followers.filter((function(e){return e.userId===o})),i=s.followers.filter((function(e){return e.followerId===o}));return t=void 0!==s.followers.find((function(e){return e.userId===o&&e.followerId===s.currentUserId}))?Object(b.jsx)("button",{onClick:function(){e.onUnfollow(o,s.currentUserId)},className:Z.a.unfollowBtn,children:"Unfollow"}):Object(b.jsx)("button",{onClick:function(){e.onFollow(o,s.currentUserId)},className:Z.a.followBtn,children:"Follow"}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("header",{className:Z.a.header,children:[Object(b.jsx)("div",{className:Z.a.photo,children:Object(b.jsx)("img",{src:a.photo,alt:"Profile"})}),Object(b.jsx)("div",{className:Z.a.id,children:Object(b.jsx)("span",{children:o})}),Object(b.jsx)("div",{classname:Z.a.button,children:t})]}),Object(b.jsxs)("div",{className:Z.a.user,children:[Object(b.jsx)("div",{className:Z.a.name,children:a.name}),Object(b.jsx)("div",{className:Z.a.bio,children:a.bio})]}),Object(b.jsxs)("ul",{className:Z.a.activity,children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{children:c.length}),Object(b.jsx)("br",{}),"posts"]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{children:r.length}),Object(b.jsx)("br",{}),"followers"]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("span",{children:i.length}),Object(b.jsx)("br",{}),"following"]})]}),Object(b.jsx)("div",{className:Z.a.posts,children:c.map((function(e){return Object(b.jsx)(g.b,{to:"/".concat(e.id),children:Object(b.jsx)(B,{post:e})},e.id)}))})]})},J=s(15),W=s.n(J);var Q=function(e){return Object(b.jsxs)("nav",{className:W.a.navbar,children:[Object(b.jsx)("div",{className:W.a.navItem,children:Object(b.jsx)(g.b,{to:"/",children:Object(b.jsx)("img",{src:v("/assets/home.svg"),alt:"Home"})})}),Object(b.jsx)("div",{className:W.a.navItem,children:Object(b.jsx)(g.b,{to:"/explore",children:Object(b.jsx)("img",{src:v("/assets/explore.svg"),alt:"Explore"})})}),Object(b.jsx)("div",{className:W.a.navItem,children:Object(b.jsx)(g.b,{to:"/newpost",children:Object(b.jsx)("img",{src:v("/assets/newpost.svg"),alt:"NewPost"})})}),Object(b.jsx)("div",{className:W.a.navItem,children:Object(b.jsx)(g.b,{to:"/activity",children:Object(b.jsx)("img",{src:v("/assets/activity.svg"),alt:"Activity"})})}),Object(b.jsx)("div",{className:W.a.navItem,children:Object(b.jsx)(g.b,{to:"/profile",children:Object(b.jsx)("img",{src:v("/assets/profile.svg"),alt:"Profile"})})})]})};var Y=function(e){var t=(new Date).valueOf().toString(36);return function(e){for(var t=(new Date).getTime(),s=0;s<1e7&&!((new Date).getTime()-t>e);s++);}(1),e?e+t:t};var q=function(){var e=Object(n.useState)(d),t=Object(i.a)(e,2),s=t[0],o=t[1];return Object(b.jsx)(g.a,{basename:"/Social",children:Object(b.jsx)("div",{className:j.a.container,children:Object(b.jsxs)("div",{className:j.a.content,children:[Object(b.jsx)(p,{}),Object(b.jsxs)(_.c,{children:[Object(b.jsx)(_.a,{path:"/explore",children:Object(b.jsx)(w,{})}),Object(b.jsx)(_.a,{path:"/activity",children:Object(b.jsx)(U,{})}),Object(b.jsx)(_.a,{path:"/newpost",children:Object(b.jsx)(S,{store:s,onPost:function(e,t){var n={id:Y("post"),userId:s.currentUserId,photo:e,desc:t,datetime:(new Date).toISOString()};o(Object(r.a)(Object(r.a)({},s),{},{posts:s.posts.concat(n)}))}})}),Object(b.jsx)(_.a,{path:"/profile/:userId?",children:Object(b.jsx)(M,{store:s,onFollow:function(e,t){var n={userId:e,followerId:t};o(Object(r.a)(Object(r.a)({},s),{},{followers:s.followers.concat(n)}))},onUnfollow:function(e,t){o(Object(r.a)(Object(r.a)({},s),{},{followers:s.followers.filter((function(s){return!(s.userId===e&&s.followerId===t)}))}))}})}),Object(b.jsx)(_.a,{path:"/:postId?",children:Object(b.jsx)(I,{store:s,onLike:function(e){var t={userId:s.currentUserId,postId:e,datetime:(new Date).toISOString()};o(Object(r.a)(Object(r.a)({},s),{},{likes:s.likes.concat(t)}))},onUnlike:function(e){o(Object(r.a)(Object(r.a)({},s),{},{likes:s.likes.filter((function(t){return!(t.userId===s.currentUserId&&t.postId===e)}))}))},onComment:function(e,t){var n={userId:s.currentUserId,postId:e,text:t,datetime:(new Date).toISOString()};o(Object(r.a)(Object(r.a)({},s),{},{comments:s.comments.concat(n)}))}})})]}),Object(b.jsx)(Q,{})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(b.jsx)(q,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,s){e.exports={post:"Post_post__k-M1c",header:"Post_header__3AX5r",user:"Post_user__2QsRD",content:"Post_content__37Op3",imgContainer:"Post_imgContainer__2pU2y",actions:"Post_actions__3NQsO",activity:"Post_activity__3NN-q",likes:"Post_likes__49vLf",time:"Post_time__M-QSi",comments:"Post_comments__2tLLM",addComment:"Post_addComment__3uswk"}}},[[43,1,2]]]);
//# sourceMappingURL=main.75a01267.chunk.js.map